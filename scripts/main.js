function getCurrentLocation(){function a(a){var b=$(".convert .btn").attr("data-unit");getWeather(a.coords.latitude,a.coords.longitude,b)}function b(a){console.warn("ERROR("+a.code+"): "+a.message),console.log("Falling back to IP based geolocation..."),getLocationByIP()}var c={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};navigator.geolocation.getCurrentPosition(a,b,c)}function getWeather(a,b,c){var d="http://api.openweathermap.org/data/2.5/weather?	lat="+a+"&lon="+b+"&units="+c+"&appid=1d8f6820c9fd96687cefdf7bd7cfa826";$.getJSON(d,function(a){showWeather(a)})}function showWeather(a){var b=((new Date).getHours(),$(".convert .btn").attr("data-unit"));$(".condition").text("Weather in "+a.name+" is with "+a.weather[0].description),$(".owf").attr("data-content",a.main.temp+$("<div/>").html("&deg;").text()+("metric"===b?"C":"F")),$(".humidity").text(a.main.humidity+$("<div/>").html("&#37;").text()),$(".wind").text(a.wind.speed+String.fromCharCode(160)+("metric"===b?"m/s":"mph")),$(".direction").text(a.wind.deg+String.fromCharCode(160)+$("<div/>").html("&deg;").text()),$(".icon > i").addClass("owf-"+a.weather[0].id.toString()+(isNight(a)?"-n":"")),$("body").css("background-image",'url("images/'+Math.floor(Number(a.weather[0].id)/100)+'.jpg")')}function isNight(a){var b=new Date(1e3*Number(a.sys.sunrise)).getHours(),c=new Date(1e3*Number(a.sys.sunset)).getHours(),d=(new Date).getHours();return d>=c||b>=d?!0:!1}function getLocationByIP(){var a=$(".convert .btn").attr("data-unit");$.getJSON("//freegeoip.net/json/",function(b){getWeather(b.latitude,b.longitude,a)}).error(function(a){console.warn("ERROR("+a.code+"): "+a.message),console.log("Both HTML5 and IP Based geolocationing has failed!")})}$(".convert .btn").click(function(){var a=$(".convert .btn");"metric"===a.attr("data-unit")?(a.attr("data-unit","imperial"),a.text("Metric"),getCurrentLocation()):(a.attr("data-unit","metric"),a.text("Imperial"),getCurrentLocation())}),getCurrentLocation();